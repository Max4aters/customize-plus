/**
 * Move the `padding` from the `<ul>` to the controls `<li>`s
 * so they are fullwidth in the sidebar, allowing a nice highlighting
 * in various situation like `:hover` or `.focus()`
 */
.customize-control,
.pwpcp-control {
  padding-left: $control--spacing-horizontal;
  padding-right: $control--spacing-horizontal;
  box-sizing: border-box;
}

/**
 * Normalize the padding of the section adding some space around the
 * optional section description.
 */
.accordion-section-content {
  padding: 0;

  #customize-info &,
  .panel-meta & {
    padding: $WPcustomize--section-padding-top $WPcustomize--section-padding-horizontal ($WPcustomize--section-padding-top * 2);
  }
}
.customize-section-description-container {
  // the vertical padding is intentionally inverted
  padding: $control--spacing-bottom $control--spacing-horizontal $control--spacing-top;
  background: linear-gradient(fade-out($control--bg-focus, .6), $control--bg);
}

/**
 * Highlight the hovered control making it more prominent and visible
 *
 */
.customize-control,
.pwpcp-control {
  border-color: transparent;
  border-style: solid;
  border-width: 1px 0;
  &:hover {
    background: $control--bg-hover;
    border-color: darken($control--bg-hover, 5%);
  }

  &:last-of-type {
    border-bottom: none;
  }
}

/**
 * Control changes, class applied on `<li>`
 * container of each of our custom controls
 *
 */
.customize-control,
.pwpcp-control {
  margin: 0; // @@wptight-css-override .customize-control {} \\
  padding-top: $control--spacing-top;
  padding-bottom: $control--spacing-bottom;

  /**
   * Highlight focused control (through WordPress API method control.focus())
   * adding the class `.pwpcp-control-focused` to the `control.container`
   */
  background: $control--bg;
  &-focused {
    transition: background 2s ease;
    background: $control--bg-focus;
  }

  // /**
  //  * 'Highlight' hovered control fading out a bit all the others
  //  *
  //  */
  // transition: opacity .1s ease;

  // .control-section .accordion-section-content:hover & { // .pwpcp-control-section
  //   opacity: .8;
  // }
  // .control-section .accordion-section-content &:hover { // .pwpcp-control-section
  //   opacity: 1;
  // }
  // // on search active we have multple accordion-section visible
  // // at the same time so we have to target the overall sidebar inner area
  // // to trigger the hover higlight in the right way
  // .pwpcp-search-active #customize-theme-controls:hover & {
  //   opacity: .8;
  // }
  // .pwpcp-search-active #customize-theme-controls &:hover {
  //   opacity: 1;
  // }
}

/**
 * Tweaks for WordPress themes switcher section:
 * - Remove highlighting behavior on theme switcher control
 * - Fix padding on section title when themes section is expanded
 * - Reset to 0 the control's padding around themes thumbnails
 */
#accordion-section-themes.control-section:hover > .accordion-section-title {
  background: $control--bg;
}
.customize-themes-panel > .customize-section-title {
  float: none;
  width: auto;
}
.customize-control-theme {
  background: none;
  padding: 0 !important; // important to override pseudo selectors like `:first-of-type`
}
